<!doctype html><html lang=zh-CN data-theme=light><head><meta charset=UTF-8><meta name=viewport content="width=device-width"><meta name=theme-color content="#87CEEB" media="(prefers-color-scheme: light)"><meta name=generator content="Hugo 0.145.0"><link rel="shortcut icon" type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/x-icon href=/imgs/icons/favicon.ico><link rel=icon type=image/png sizes=16x16 href=/imgs/icons/favicon_16x16_next.png><link rel=icon type=image/png sizes=32x32 href=/imgs/icons/favicon_32_32_next.png><link rel=apple-touch-icon sizes=180x180 href=/imgs/icons/apple_touch_icon_next.png><meta itemprop=name content="Tomcat各端口详解"><meta itemprop=description content="保持简单、易用、强大功能。"><meta itemprop=datePublished zgotmplz><meta itemprop=dateModified zgotmplz><meta itemprop=image content="https://szhiku.github.io/content/hugo_next_avatar.jpg"><meta itemprop=keywords content="运维,Linux,Tomcat"><meta property="og:type" content="article"><meta property="og:title" content="Tomcat各端口详解"><meta property="og:description" content="保持简单、易用、强大功能。"><meta property="og:image" content="/content/hugo_next_avatar.jpg"><meta property="og:image:width" content="312"><meta property="og:image:height" content="312"><meta property="og:image:type" content="image/jpeg/png/svg/jpg"><meta property="og:url" content="https://szhiku.github.io/post/tomcat-detailed-explanation-z1jrrbj.html"><meta property="og:site_name" content="szhiku.cn"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="szh"><meta property="article:published_time" content="2024-03-05 02:06:01 +0000 UTC"><meta property="article:modified_time" content="2024-03-05 02:07:50 +0000 UTC"><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/font-awesome/6.1.2/css/all.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/animate.css/3.1.1/animate.min.css><link type=text/css rel=stylesheet href=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.css><link rel=stylesheet href=/css/main.min.8ea0817a6402d7fa3cdf50485ca3517c0b0774c939d76b920490340debb3cd98.css><script type=text/javascript>(function(){localDB={set:function(e,t,n){if(n===0)return;const s=new Date,o=n*864e5,i={value:t,expiry:s.getTime()+o};localStorage.setItem(e,JSON.stringify(i))},get:function(e){const t=localStorage.getItem(e);if(!t)return void 0;const n=JSON.parse(t),s=new Date;return s.getTime()>n.expiry?(localStorage.removeItem(e),void 0):n.value}},theme={active:function(){const e=localDB.get("theme");if(e==null)return;theme.toggle(e),window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){theme.toggle(e.matches?"dark":"light")})},toggle:function(e){document.documentElement.setAttribute("data-theme",e),localDB.set("theme",e,2);const t=document.querySelector("iframe.giscus-frame");if(t){const n={setConfig:{theme:e}};t.contentWindow.postMessage({giscus:n},"https://giscus.app")}}},theme.active()})(window)</script><script class=next-config data-name=page type=application/json>{"comments":false,"isHome":false,"isPage":true,"path":"tomcat-detailed-explanation-z1jrrbj.html","permalink":"https://szhiku.github.io/post/tomcat-detailed-explanation-z1jrrbj.html","title":"Tomcat各端口详解","waline":{"js":[{"alias":"waline","alias_name":"@waline/client","file":"dist/pageview.js","name":"pageview","version":"2.13.0"},{"alias":"waline","alias_name":"@waline/client","file":"dist/comment.js","name":"comment","version":"2.13.0"}]}}</script><script type=text/javascript>document.addEventListener("DOMContentLoaded",()=>{var e=document.createElement("script");e.charset="UTF-8",e.src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js",e.async=!1,e.defer=!0,document.head.appendChild(e),e.onload=function(){NexT.utils.fmtBusuanzi()}})</script><title>Tomcat各端口详解 - szhiku.cn</title><noscript><link rel=stylesheet href=/css/noscript.css></noscript></head><body itemscope itemtype=http://schema.org/WebPage class=use-motion><div class=headband></div><main class=main><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=header-inner><div class=site-brand-container><div class=site-nav-toggle><div class=toggle aria-label role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div></div><div class=site-meta><a href=/ class=brand rel=start><i class=logo-line></i><h1 class=site-title>szhiku.cn</h1><i class=logo-line></i></a><p class=site-subtitle itemprop=description>szh知识库</p></div><div class=site-nav-right><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class=site-nav><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href=/ class=hvr-icon-pulse rel=section><i class="fa fa-home hvr-icon"></i>首页</a></li><li class="menu-item menu-item-archives"><a href=/archives/ class=hvr-icon-pulse rel=section><i class="fa fa-archive hvr-icon"></i>归档
<span class=badge>24</span></a></li><li class="menu-item menu-item-search"><a role=button class="popup-trigger hvr-icon-pulse"><i class="fa fa-search fa-fw hvr-icon"></i>搜索</a></li></ul></nav><div class=search-pop-overlay><div class="popup search-popup"><div class=search-header><span class=search-icon><i class="fa fa-search"></i></span><div class=search-input-container><input autocomplete=off autocapitalize=off maxlength=80 placeholder=搜索... spellcheck=false type=search class=search-input></div><span class=popup-btn-close role=button><i class="fa fa-times-circle"></i></span></div><div class="search-result-container no-result"><div class=search-result-icon><i class="fa fa-spinner fa-pulse fa-5x"></i></div></div></div></div></div><div class="toggle sidebar-toggle" role=button><span class=toggle-line></span>
<span class=toggle-line></span>
<span class=toggle-line></span></div><aside class=sidebar><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class=sidebar-nav><li class=sidebar-nav-toc>文章目录</li><li class=sidebar-nav-overview>站点概览</li></ul><div class=sidebar-panel-container><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><nav id=TableOfContents><ul><li><ul><li><a href=#80808443端口>8080（8443）端口</a></li><li><a href=#8009端口>8009端口</a></li><li><a href=#8005端口>8005端口</a></li><li><a href=#禁用方式>禁用方式：</a></li><li><a href=#serverxml配置文件>server.xml配置文件</a></li></ul></li></ul></nav></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop=author itemscope itemtype=http://schema.org/Person><img class=site-author-image itemprop=image alt=szh src=/imgs/img-lazy-loading.gif data-src=/content/hugo_next_avatar.jpg><p class=site-author-name itemprop=name>szh</p><div class=site-description itemprop=description>保持简单、易用、强大功能。</div></div><div class="site-state-wrap site-overview-item animated"><nav class=site-state><div class="site-state-item site-state-posts"><a href=/archives/><span class=site-state-item-count>24</span>
<span class=site-state-item-name>日志</span></a></div><div class="site-state-item site-state-categories"><a href=/categories/><span class=site-state-item-count>3</span>
<span class=site-state-item-name>分类</span></a></div><div class="site-state-item site-state-tags"><a href=/tags/><span class=site-state-item-count>15</span>
<span class=site-state-item-name>标签</span></a></div></nav></div><div class="links-of-social site-overview-item animated"><span class=links-of-social-item><a href=https://github.com/szhiku title="Github → https://github.com/szhiku" rel=noopener class=hvr-icon-pulse target=_blank><i class="fab fa-github fa-fw hvr-icon"></i>
Github
</a></span><span class=links-of-social-item><a href=aaa467843177@qq.com title="E-Mail → aaa467843177@qq.com" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-envelope fa-fw hvr-icon"></i>
E-Mail
</a></span><span class=links-of-social-item><a href=https://www.zhihu.com/people/feng-ying-xia-3 title="知乎 → https://www.zhihu.com/people/feng-ying-xia-3" rel=noopener class=hvr-icon-pulse target=_blank><i class="fa fa-book fa-fw hvr-icon"></i>
知乎</a></span></div><div class="cc-license animated" itemprop=license><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh class=cc-opacity rel=noopener target=_blank title=共享知识><img src=/imgs/img-lazy-loading.gif data-src=/imgs/cc/big/by_nc_sa.svg alt=共享知识></a></div><div class="links-of-blogroll site-overview-item animated"><div class=links-of-blogroll-title><i class="fa fa-globe fa-fw"></i>
友情链接</div><ul class=links-of-blogroll-list><li class=links-of-blogroll-item><a href=https://gitee.com/hugo-next/hugo-theme-next title=https://gitee.com/hugo-next/hugo-theme-next target=_blank>Hugo-NexT</a></li><li class=links-of-blogroll-item><a href=https://lisenhui.cn title=https://lisenhui.cn target=_blank>凡梦星尘空间站</a></li></ul></div></div></div></div><div id=siteinfo-card-widget class=sidebar-card-widget><div class=item-headline><i class="fas fa-chart-line"></i>
<span>网站资讯</span></div><div class=siteinfo><div class=siteinfo-item><div class=item-name><i class="fa-solid fa-calendar-check"></i>已运行：</div><div class=item-count id=runTimes data-publishdate=2022-06-08T21:12:52+08:00></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-user"></i>总访客数：</div><div class=item-count id=busuanzi_value_site_uv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fas fa fa-eye"></i>页面浏览：</div><div class=item-count id=busuanzi_value_site_pv><i class="fa fa-sync fa-spin"></i></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-font"></i>总字数：</div><div class=item-count id=wordsCount data-count=85785></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-mug-hot"></i>阅读约：</div><div class=item-count id=readTimes data-times=182></div></div><div class=siteinfo-item><div class=item-name><i class="fa fa-clock-rotate-left"></i>最后更新于：</div><div class=item-count id=last-push-date data-lastpushdate=2024-02-19T03:06:22+08:00></div></div></div></div></aside><div class=sidebar-dimmer></div></header><div class=tool-buttons><div id=goto-gtranslate class=button title=多语言翻译><i class="fas fa-globe"></i></div><div id=toggle-theme class=button title=深浅模式切换><i class="fas fa-adjust"></i></div><div class=back-to-top role=button title=返回顶部><i class="fa fa-arrow-up"></i>
<span>0%</span></div></div><div class=reading-progress-bar></div><a role=button class="book-mark-link book-mark-link-fixed"></a><a href=https://github.com/hugo-next rel="noopener external nofollow noreferrer" target=_blank title="Follow me on GitHub" class="exturl github-corner"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg>
</a><script type=text/javascript src=//sidecar.gitter.im/dist/sidecar.v1.js async></script><script type=text/javascript>((window.gitter={}).chat={}).options={room:"hugo-next/community"}</script><noscript><div class=noscript-warning>Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class=post-block><article itemscope itemtype=http://schema.org/Article class=post-content lang><link itemprop=mainEntityOfPage href=https://szhiku.github.io/post/tomcat-detailed-explanation-z1jrrbj.html><span hidden itemprop=author itemscope itemtype=http://schema.org/Person><meta itemprop=image content="/content/hugo_next_avatar.jpg"><meta itemprop=name content="szh"></span><span hidden itemprop=publisher itemscope itemtype=http://schema.org/Organization><meta itemprop=name content="szh"><meta itemprop=description content="保持简单、易用、强大功能。"></span><span hidden itemprop=post itemscope itemtype=http://schema.org/CreativeWork><meta itemprop=name content="Tomcat各端口详解"><meta itemprop=description content='Tomcat各端口详解

　　从tomcat配置文件中，我们可以看出，在启动tomcat的时候默认启动了3个端口，分别是8080（8443）、8009、8005。

8080（8443）端口

<Connector port="80" protocol="HTTP/1.1"
           connectionTimeout="20000"
           redirectPort="8443" />
　　这个应该是我们最熟悉的一个，平常开发测试也经常用，该Connector用于监听浏览器发送的请求，设置为80后可以直接使用

    http://localhost
    
    
    
访问。'></span><header class=post-header><h1 class=post-title itemprop="name headline">Tomcat各端口详解</h1><div class=post-meta-container><div class=post-meta-items><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar"></i>
</span><span class=post-meta-item-text title=发表于>发表于：
</span><time title="创建时间：2024-03-05 02:06:01 +0000 UTC" itemprop="dateCreated datePublished" datetime="2024-03-05 02:06:01 +0000 UTC">2024-03-05
</time></span><span class=post-meta-item><span class=post-meta-item-icon><i class="far fa-calendar-check"></i>
</span><span class=post-meta-item-text title=更新于>更新于：
</span><time title=修改时间：2024-03-05T02:07:50+00:00 itemprop=dateModified datetime=2024-03-05T02:07:50+00:00>2024-03-05</time></span></div><div class=post-meta-items><span class=post-meta-item title=字数><span class=post-meta-item-icon><i class="far fa-file-word"></i>
</span><span class=post-meta-item-text>字数：</span>
<span>2946</span>
</span><span class=post-meta-item title=阅读><span class=post-meta-item-icon><i class="far fa-clock"></i>
</span><span class=post-meta-item-text>阅读：&ap;</span>
<span>6分钟</span>
</span><span class=post-meta-item title=浏览><span class=post-meta-item-icon><i class="far fa-eye"></i>
</span><span class=post-meta-item-text>浏览：
</span><span id=busuanzi_value_page_pv data-path=/post/tomcat-detailed-explanation-z1jrrbj.html><i class="fa fa-sync fa-spin"></i></span></span></div></div></header><div class="post-body autonumber" itemprop=articleBody><h1 id=tomcat各端口详解>Tomcat各端口详解
<a class=header-anchor href=#tomcat%e5%90%84%e7%ab%af%e5%8f%a3%e8%af%a6%e8%a7%a3></a></h1><p>　　从tomcat配置文件中，我们可以看出，在启动tomcat的时候默认启动了3个端口，分别是8080（8443）、8009、8005。</p><hr><h3 id=80808443端口>8080（8443）端口
<a class=header-anchor href=#80808443%e7%ab%af%e5%8f%a3></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;Connector</span> <span style=color:#a6e22e>port=</span><span style=color:#e6db74>&#34;80&#34;</span> <span style=color:#a6e22e>protocol=</span><span style=color:#e6db74>&#34;HTTP/1.1&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#a6e22e>connectionTimeout=</span><span style=color:#e6db74>&#34;20000&#34;</span>
</span></span><span style=display:flex><span>           <span style=color:#a6e22e>redirectPort=</span><span style=color:#e6db74>&#34;8443&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span></code></pre></div><p>　　这个应该是我们最熟悉的一个，平常开发测试也经常用，该Connector用于<span style=font-weight:700 class=bold>监听浏览器发送的请求</span>，设置为80后可以直接使用
<a href="https://links.jianshu.com/go?to=http%3A%2F%2Flocalhost" title=http://localhost rel="noopener external nofollow noreferrer" target=_blank class=exturl>http://localhost
<i class="fa fa-external-link-alt"></i>
</a>访问。</p><p>　　http协议，其中<code>redirectPort</code>​表示如果发送的是https请求，就将请求发送到8443端口。</p><p>　　8443是默认的https监听端口，默认是没有开启的，如果要开启由于tomcat不自带证书所以除了取消注释之外，还需要自己生成证书并指定。</p><h3 id=8009端口>8009端口
<a class=header-anchor href=#8009%e7%ab%af%e5%8f%a3></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;Connector</span> <span style=color:#a6e22e>port=</span><span style=color:#e6db74>&#34;8009&#34;</span> <span style=color:#a6e22e>protocol=</span><span style=color:#e6db74>&#34;AJP/1.3&#34;</span> <span style=color:#a6e22e>redirectPort=</span><span style=color:#e6db74>&#34;8443&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span></code></pre></div><p>　　Nginx、Apache等反向代理tomcat时就可以使用ajp协议反向代理到该端口。<br>虽然我们经常使用http反向代理到8080端口，但由于ajp建立tcp链接后一般长时间保持，从而减少Http反复进行tcp链接和断开的开销，所以反向代理中ajp是比http高效的。</p><h3 id=8005端口>8005端口
<a class=header-anchor href=#8005%e7%ab%af%e5%8f%a3></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;Server</span> <span style=color:#a6e22e>port=</span><span style=color:#e6db74>&#34;8005&#34;</span> <span style=color:#a6e22e>shutdown=</span><span style=color:#e6db74>&#34;SHUTDOWN&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><p>　　tomcat监听的关闭端口，<span style=font-weight:700 class=bold>就是说这个端口负责监听关闭tomcat的请求</span>。</p><p>　　当执行<code>shutdown.sh</code>​关闭tomcat就是链接8005端口执行<code>SHUTDOWN</code>​命令；由此，我们直接用telnet向8005端口执行<code>SHUTDOWN</code>​来关闭tomcat，这也是比较正统的关闭方式，如果这个端口没被监听，那么sh脚本就是无效的。</p><hr><p>　　实际上，8005和8009端口并不是必须的，尤其SHUTDOWN虽然默认是监听在127.0.0.1，但是连接到这个端口，发送<code>SHUTDOWN</code>​就可以无任何验证的把tomcat关闭掉，有安全隐患的。</p><p>　　AJP端口用来与应用服务器交互时候用，比如apache连接tomcat等，开发期间一般也用不着，可以禁止掉。</p><h3 id=禁用方式>禁用方式：
<a class=header-anchor href=#%e7%a6%81%e7%94%a8%e6%96%b9%e5%bc%8f></a></h3><p>　　AJP端口，直接注释掉server.xml文件的配置行就可以了。</p><p>　　SHUTDOWN端口是写在server参数里面的，直接去掉是不管用的，也是会默认启动，一般在安全设置时候建议把端口修改为其他端口，SHUTDOWN修改为其他复杂的字符串。</p><p>　　实际上这个端口是可以直接屏蔽不监听的。设置时候将其port值修改为-1就可以。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;Server</span> <span style=color:#a6e22e>port=</span><span style=color:#e6db74>&#34;-1&#34;</span> <span style=color:#a6e22e>shutdown=</span><span style=color:#e6db74>&#34;SHUTDOWN&#34;</span><span style=color:#f92672>&gt;</span>
</span></span></code></pre></div><h3 id=serverxml配置文件>server.xml配置文件
<a class=header-anchor href=#serverxml%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6></a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#75715e>&lt;!-- 属性说明
</span></span></span><span style=display:flex><span><span style=color:#75715e>port:指定一个端口，这个端口负责监听关闭Tomcat的请求
</span></span></span><span style=display:flex><span><span style=color:#75715e>shutdown:向以上端口发送的关闭服务器的命令字符串
</span></span></span><span style=display:flex><span><span style=color:#75715e>--&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;Server</span> <span style=color:#a6e22e>port=</span><span style=color:#e6db74>&#34;8005&#34;</span> <span style=color:#a6e22e>shutdown=</span><span style=color:#e6db74>&#34;SHUTDOWN&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;Listener</span> <span style=color:#a6e22e>className=</span><span style=color:#e6db74>&#34;org.apache.catalina.core.AprLifecycleListener&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;Listener</span> <span style=color:#a6e22e>className=</span><span style=color:#e6db74>&#34;org.apache.catalina.mbeans.ServerLifecycleListener&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;Listener</span> <span style=color:#a6e22e>className=</span><span style=color:#e6db74>&#34;org.apache.catalina.mbeans.GlobalResourcesLifecycleListener&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;Listener</span> <span style=color:#a6e22e>className=</span><span style=color:#e6db74>&#34;org.apache.catalina.storeconfig.StoreConfigLifecycleListener&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;GlobalNamingResources&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Environment</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;simpleValue&#34;</span> <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#34;java.lang.Integer&#34;</span> <span style=color:#a6e22e>value=</span><span style=color:#e6db74>&#34;30&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Resource</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;UserDatabase&#34;</span> <span style=color:#a6e22e>auth=</span><span style=color:#e6db74>&#34;Container&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>type=</span><span style=color:#e6db74>&#34;org.apache.catalina.UserDatabase&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>description=</span><span style=color:#e6db74>&#34;User database that can be updated and saved&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>factory=</span><span style=color:#e6db74>&#34;org.apache.catalina.users.MemoryUserDatabaseFactory&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>pathname=</span><span style=color:#e6db74>&#34;conf/tomcat-users.xml&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/GlobalNamingResources&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;Service</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;Catalina&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!--
</span></span></span><span style=display:flex><span><span style=color:#75715e>      Connector 元素:
</span></span></span><span style=display:flex><span><span style=color:#75715e>      由 Connector 接口定义.&lt;Connector&gt; 元素代表与客户程序实际交互的组件,它负责接收客户请求,以及向客户返回响应结果.
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>      属性说明:
</span></span></span><span style=display:flex><span><span style=color:#75715e>        port:服务器连接器的端口号,该连接器将在指定端口侦听来自客户端的请求。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        enableLookups:如果为 true，则可以通过调用 request.getRemoteHost() 进行 DNS 查询来得到远程客户端的实际主机名；若为 false 则不进行DNS查询，而是返回其ip地址。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        redirectPort:服务器正在处理http请求时收到了一个SSL传输请求后重定向的端口号。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        acceptCount:当所有可以使用的处理请求的线程都被用光时,可以放到处理队列中的请求数,超过这个数的请求将不予处理，而返回Connection refused错误。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        connectionTimeout:等待超时的时间数（以毫秒为单位）。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        maxThreads:设定在监听端口的线程的最大数目,这个值也决定了服务器可以同时响应客户请求的最大数目.默认值为200。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        protocol:必须设定为AJP/1.3协议。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        address:如果服务器有两个以上IP地址,该属性可以设定端口监听的IP地址,默认情况下,端口会监听服务器上所有IP地址。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        minProcessors:服务器启动时创建的处理请求的线程数，每个请求由一个线程负责。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        maxProcessors:最多可以创建的处理请求的线程数。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        minSpareThreads:最小备用线程 。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        maxSpareThreads:最大备用线程。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        debug:日志等级。
</span></span></span><span style=display:flex><span><span style=color:#75715e>        disableUploadTimeout:禁用上传超时,主要用于大数据上传时。
</span></span></span><span style=display:flex><span><span style=color:#75715e>    --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Connector</span> <span style=color:#a6e22e>port=</span><span style=color:#e6db74>&#34;8080&#34;</span> <span style=color:#a6e22e>maxHttpHeaderSize=</span><span style=color:#e6db74>&#34;8192&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>maxThreads=</span><span style=color:#e6db74>&#34;150&#34;</span> <span style=color:#a6e22e>minSpareThreads=</span><span style=color:#e6db74>&#34;25&#34;</span> <span style=color:#a6e22e>maxSpareThreads=</span><span style=color:#e6db74>&#34;75&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>enableLookups=</span><span style=color:#e6db74>&#34;false&#34;</span> <span style=color:#a6e22e>redirectPort=</span><span style=color:#e6db74>&#34;8443&#34;</span> <span style=color:#a6e22e>acceptCount=</span><span style=color:#e6db74>&#34;100&#34;</span>
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>connectionTimeout=</span><span style=color:#e6db74>&#34;20000&#34;</span> <span style=color:#a6e22e>disableUploadTimeout=</span><span style=color:#e6db74>&#34;true&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- 负责和其他 HTTP 服务器建立连接。在把 Tomcat 与其他 HTTP 服务器集成时就需要用到这个连接器。 --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Connector</span> <span style=color:#a6e22e>port=</span><span style=color:#e6db74>&#34;8009&#34;</span> 
</span></span><span style=display:flex><span>               <span style=color:#a6e22e>enableLookups=</span><span style=color:#e6db74>&#34;false&#34;</span> <span style=color:#a6e22e>redirectPort=</span><span style=color:#e6db74>&#34;8443&#34;</span> <span style=color:#a6e22e>protocol=</span><span style=color:#e6db74>&#34;AJP/1.3&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>&lt;!-- 
</span></span></span><span style=display:flex><span><span style=color:#75715e>      每个Service元素只能有一个Engine元素.元素处理在同一个&lt;Service&gt;中所有&lt;Connector&gt;元素接收到的客户请求
</span></span></span><span style=display:flex><span><span style=color:#75715e>      属性说明:
</span></span></span><span style=display:flex><span><span style=color:#75715e>        name:对应$CATALINA_HOME/config/Catalina 中的 Catalina ;
</span></span></span><span style=display:flex><span><span style=color:#75715e>        defaultHost: 对应Host元素中的name属性,也就是和$CATALINA_HOME/config/Catalina/localhost中的localhost，缺省的处理请求的虚拟主机名，它至少与其中的一个Host元素的name属性值是一样的
</span></span></span><span style=display:flex><span><span style=color:#75715e>        debug:日志等级
</span></span></span><span style=display:flex><span><span style=color:#75715e>    --&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;Engine</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;Catalina&#34;</span> <span style=color:#a6e22e>defaultHost=</span><span style=color:#e6db74>&#34;localhost&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;Realm</span> <span style=color:#a6e22e>className=</span><span style=color:#e6db74>&#34;org.apache.catalina.realm.UserDatabaseRealm&#34;</span>
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>resourceName=</span><span style=color:#e6db74>&#34;UserDatabase&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#75715e>&lt;!--
</span></span></span><span style=display:flex><span><span style=color:#75715e>        由 Host 接口定义.一个 Engine 元素可以包含多个&lt;Host&gt;元素.
</span></span></span><span style=display:flex><span><span style=color:#75715e>        每个&lt;Host&gt;的元素定义了一个虚拟主机.它包含了一个或多个Web应用.
</span></span></span><span style=display:flex><span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>        属性说明：
</span></span></span><span style=display:flex><span><span style=color:#75715e>          name:在此例中一直被强调为$CATALINA_HOME/config/Catalina/localhost中的localhost虚拟主机名
</span></span></span><span style=display:flex><span><span style=color:#75715e>          debug:是日志的调试等级 
</span></span></span><span style=display:flex><span><span style=color:#75715e>          appBase:默认的应用路径,也就是把应用放在一个目录下,并在autoDeploy为true的情况下,可自动部署应用此路径相对于$CATALINA_HOME/ (web applications的基本目录)
</span></span></span><span style=display:flex><span><span style=color:#75715e>          unpackWARs:设置为true,在Web应用为*.war是,解压此WAR文件. 如果为true,则tomcat会自动将WAR文件解压;否则不解压,直接从WAR文件中运行应用程序.
</span></span></span><span style=display:flex><span><span style=color:#75715e>          autoDeploy:默认为true,表示如果有新的WEB应用放入appBase 并且Tomcat在运行的情况下,自动载入应用
</span></span></span><span style=display:flex><span><span style=color:#75715e>      --&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;Host</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;localhost&#34;</span> <span style=color:#a6e22e>appBase=</span><span style=color:#e6db74>&#34;webapps&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>unpackWARs=</span><span style=color:#e6db74>&#34;true&#34;</span> <span style=color:#a6e22e>autoDeploy=</span><span style=color:#e6db74>&#34;true&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#a6e22e>xmlValidation=</span><span style=color:#e6db74>&#34;false&#34;</span> <span style=color:#a6e22e>xmlNamespaceAware=</span><span style=color:#e6db74>&#34;false&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#75715e>&lt;!-- 
</span></span></span><span style=display:flex><span><span style=color:#75715e>          属性说明：
</span></span></span><span style=display:flex><span><span style=color:#75715e>            path:访问的URI,如:http://localhost/是我的应用的根目录,访问此应用将用:http://localhost/demm进行操作,此元素必须，
</span></span></span><span style=display:flex><span><span style=color:#75715e>                表示此web application的URL的前缀，用来匹配一个Context。请求的URL形式为http://localhost:8080/path/*
</span></span></span><span style=display:flex><span><span style=color:#75715e>            docBase:WEB应用的目录,此目录必须符合Java WEB应用的规范，web application的文件存放路径或者是WAR文件存放路径。
</span></span></span><span style=display:flex><span><span style=color:#75715e>            debug:日志等级 
</span></span></span><span style=display:flex><span><span style=color:#75715e>            reloadable:是否在程序有改动时重新载入,设置成true会影响性能,但可自动载入修改后的文件，
</span></span></span><span style=display:flex><span><span style=color:#75715e>                如果为true，则Tomcat将支持热部署，会自动检测web application的/WEB-INF/lib和/WEB-INF/classes目录的变化，
</span></span></span><span style=display:flex><span><span style=color:#75715e>                自动装载新的JSP和Servlet，我们可以在不重起Tomcat的情况下改变web application
</span></span></span><span style=display:flex><span><span style=color:#75715e>        --&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>&lt;Context</span> <span style=color:#a6e22e>path=</span><span style=color:#e6db74>&#34;/demm&#34;</span> <span style=color:#a6e22e>docBase=</span><span style=color:#e6db74>&#34;E:\\projects\\demm\\WebRoot&#34;</span> <span style=color:#a6e22e>debug=</span><span style=color:#e6db74>&#34;0&#34;</span> <span style=color:#a6e22e>reloadable=</span><span style=color:#e6db74>&#34;true&#34;</span><span style=color:#f92672>&gt;&lt;/Context&gt;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>&lt;/Host&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;/Engine&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/Service&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/Server&gt;</span>
</span></span></code></pre></div><p>　　作者：大胖孩<br>链接：https://www.jianshu.com/p/95d6ac54fc67<br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p></div><footer class=post-footer><div class=post-tags><a href=/tags/%e8%bf%90%e7%bb%b4>运维
</a><a href=/tags/linux>Linux
</a><a href=/tags/tomcat>Tomcat</a></div><div class=addthis_inline_share_toolbox style=text-align:center></div><hr><div class=reward-container><div><i class="fa-solid fa-mug-hot"></i>请我喝杯咖啡吧 ヾ(^▽^*)))</div><button>
赞赏</button><div class=post-reward><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/content/ali-pay.jpg alt="szh - 支付宝">
<span>支付宝</span></div><div class=post-reward-item><img src=/imgs/img-lazy-loading.gif data-src=/content/wechat-pay.jpg alt="szh - 微信">
<span>微信</span></div></div></div><div class=post-copyright><img src=/imgs/cc/cc.svg width=75 height=75 align=right alt=共享知识><ul><li class=post-copyright-title><strong>文章标题：</strong>
Tomcat各端口详解</li><li class=post-copyright-author><strong>本文作者： </strong>szh</li><li class=post-copyright-link><strong>本文链接：</strong>
<a id=post-cr-link href=https://szhiku.github.io/post/tomcat-detailed-explanation-z1jrrbj.html title=Tomcat各端口详解>https://szhiku.github.io/post/tomcat-detailed-explanation-z1jrrbj.html</a></li><li class=post-copyright-license><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <i class="fab fa-fw fa-creative-commons"></i><a target=_blank href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class=post-nav><div class="post-nav-next post-nav-item"><a href=/post/redis-fast-entry-2ltiy1.html rel=next title=Redis快速入门><i class="fa fa-chevron-left"></i> Redis快速入门</a></div><div class="post-nav-prev post-nav-item"><a href=/post/tomcat-security-configuration-management-specifications-1u324h.html rel=prev title=Tomcat安全配置、管理规范整理>Tomcat安全配置、管理规范整理
<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class=footer><div class=footer-inner><div id=gtranslate class=google-translate><i class="fa fa-language"></i><div id=google_translate_element></div></div><div class=copyright>&copy;
<span itemprop=copyrightYear>2010 - 2025
</span><span class=with-love><i class="fa fa-heart"></i>
</span><span class=author itemprop=copyrightHolder>szh</span></div><div class=powered-by>由 <a href=https://gohugo.io title=0.145.0 target=_blank>Hugo</a> & <a href=https://github.com/hugo-next/hugo-theme-next title=4.5.3 target=_blank>Hugo NexT.Gemini</a> 强力驱动</div><div class=vendors-list><a target=_blank href=https://vercel.com title=Vercel><img src=/imgs/img-lazy-loading.gif data-src=/imgs/vendors/vercel.svg alt=Vercel>
</a><a target=_blank href=https://upyun.com title=又拍云><img src=/imgs/img-lazy-loading.gif data-src=/imgs/vendors/upyun.png alt=又拍云>
</a><a target=_blank href=https://webify.cloudbase.net title=Webify>Webify
</a><span>提供CDN/云资源支持</span></div></div></footer><script type=text/javascript src=https://cdn.staticfile.org/animejs/3.2.1/anime.min.js defer></script><script type=text/javascript src=https://cdn.staticfile.org/viewerjs/1.11.0/viewer.min.js defer></script><script class=next-config data-name=main type=application/json>{"bookmark":{"color":"#87CEEB","enable":true,"save":"manual"},"copybtn":true,"darkmode":false,"giscus":{"cfg":{"category":"Comments","categoryid":null,"emit":false,"inputposition":"top","mapping":"title","reactions":false,"repo":"username/repo-name","repoid":null,"theme":"preferred_color_scheme"},"js":"https://giscus.app/client.js"},"hostname":"https://szhiku.github.io/","i18n":{"ds_day":" 天前","ds_days":" 天 ","ds_hour":" 小时前","ds_hours":" 小时 ","ds_just":"刚刚","ds_min":" 分钟前","ds_mins":" 分钟","ds_month":" 个月前","ds_years":" 年 ","empty":"没有找到任何搜索结果：${query}","hits":"找到 ${hits} 个搜索结果","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","placeholder":"搜索..."},"lang":"zh-CN","lazyload":false,"localSearch":{"enable":true,"limit":1e3,"path":"/searchindexes.xml","preload":false,"topnperarticle":-1,"trigger":"auto","unescape":false},"motion":{"async":true,"enable":true,"transition":{"collheader":"fadeInLeft","postblock":"fadeIn","postbody":"fadeInDown","postheader":"fadeInDown","sidebar":"fadeInUp"}},"postmeta":{"comments":{"enable":false,"plugin":"waline"},"views":{"enable":true,"plugin":"busuanzi"}},"root":"/","scheme":"Gemini","sidebar":{"display":"post","offset":12,"padding":18,"position":"left","width":256},"vendor":{"plugins":"qiniu","router":"https://cdn.staticfile.org"},"version":"4.5.3","waline":{"cfg":{"emoji":false,"imguploader":false,"placeholder":"请文明发言哟 ヾ(≧▽≦*)o \n\n可用快捷键选取表情符号：😀😄😁🥳👻👽👀🚄\n(Window系统：Win+.，Mac系统：Control+Command+Space)","reaction":true,"reactiontext":["点赞","踩一下","得意","不屑","尴尬","睡觉"],"reactiontitle":"你认为这篇文章怎么样？","requiredmeta":["nick","mail"],"serverurl":"https://walinejs.comment.lithub.cc","sofa":"快来发表你的意见吧 (≧∀≦)ゞ","wordlimit":200},"css":{"alias":"waline","file":"dist/waline.css","name":"@waline/client","version":"2.13.0"},"js":{"alias":"waline","file":"dist/waline.js","name":"@waline/client","version":"2.13.0"}}}</script><script type=text/javascript src=/js/main.min.b0c78e5a4df586ee46d02716ffa91a4a322e56763e04e91eb2ba052c9469ed02.js defer></script></body></html>